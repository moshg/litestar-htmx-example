version: '3'

tasks:
  dev:
    desc: Run the dev server
    cmds:
      - uv run litestar --app calculator.main:app run --reload --port 8000
  check:
    desc: Check code quality (typecheck + lint)
    deps:
      - typecheck
      - lint
  typecheck:
    desc: Typecheck the codebase
    cmds:
      - uv run pyright src
  lint:
    desc: Lint the codebase
    cmds:
      - uv run ruff check src
  format:
    desc: Format the codebase
    cmds:
      - uv run ruff format src
  test:
    desc: Run the test suite
    cmds:
      - uv run pytest
  audit:
    desc: Audit dependencies for vulnerabilities
    cmds:
      - uv run --all-groups pip-audit
